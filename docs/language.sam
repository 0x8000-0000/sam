sam: utf-8 

title: Semantic Authoring Markdown (SAM)

	section: Inserts

	    Insertions are indicated by >> followed by parentheses containing the type and identity of the
	    thing to be inserted. Things you can insert include:

	    * images
	    * strings
	    * fragments

	    The parameters of an insertion are different from those of an annotation. They are:

	    1. the type of the annotation
	    2. the URI of the material to be inserted
	    3. parameters in x=y format
	    4. an id, consisting of a # followed by a name (such as "#foo")
	    5. one or more conditions, consisting of ? followed by a token

    section: Conditions

        Conditions are indicated in annotations, blocks, and inserts using a question mark followed
        by a token.

        Boolean logic is not supported in conditions. However, you can define a token
        to stand for a complex boolean expression in the schema.


    section: Blocks

        Blocks are indicated by a token followed by a semicolon at the start of a line.

        Blocks can have metadata in parens that follow the semicolon with no space:

        ```
        section:(?ultra)
            The ultra feature is really cool!
        ```

        Block metadata can include:

        * Conditions
        * IDs

     section: Fragments

        Fragments are created by a token followed by an open curly brace at the start of a line:

        ```sam
        my-fragment{

        Some stuff.

        Some more stuff
        }
        ```
        

	section: Images

		Images inside a paragraph are indicated with an insertion of type (image):


		```sam
		This is a picture of a kitten. >>(image "kitten.jpg") It is funny.
		```

		```sam
		This is a picture of a kitten. >>(image "#kitten") It is funny.
		```
		Resolution of the image name to an actual image is delegated to downstream processing. However, you can also specify a URL:

		It is up to the downstream processing whether to use the image name or the URL to locate the image to display.


		Images at the paragraph level are indicated as a paragraph containing only an image:

		```sam
		>>(image kitten.jpg)
		```

		You can also specify a variable for an image:

		```sam
		$kitten = '(image kitten.jpg)'

		This is a picture of a kitten. >>$kitten It is funny.
		```
    section: fragments
        Fragments are included with the include instruction with type "fragment":

        ```sam
        >>(fragment foo)
        ```

        Local string definitions are indicated like this:

        ```sam
        >>(fragment foo bar="baz" ban="bonk")
		
	section: variables
	
		You can declare variables 
		



	section: Shortcuts for inserts

		>>$this.string

		>>#this.ref

		>>&this.fragment(bar="baz", ban="bonk")

		>>@http://foo.com/bar


# Should SAM support the long paragraph break -- extra space between paras that
# indicates a change of subject, but without a heading?